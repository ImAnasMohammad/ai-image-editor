"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/next-safe-action";
exports.ids = ["vendor-chunks/next-safe-action"];
exports.modules = {

/***/ "(action-browser)/./node_modules/next-safe-action/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/next-safe-action/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionMetadataError: () => (/* binding */ ActionMetadataError),\n/* harmony export */   ActionValidationError: () => (/* binding */ ActionValidationError),\n/* harmony export */   DEFAULT_SERVER_ERROR_MESSAGE: () => (/* binding */ DEFAULT_SERVER_ERROR_MESSAGE),\n/* harmony export */   createSafeActionClient: () => (/* binding */ createSafeActionClient),\n/* harmony export */   flattenBindArgsValidationErrors: () => (/* binding */ flattenBindArgsValidationErrors),\n/* harmony export */   flattenValidationErrors: () => (/* binding */ flattenValidationErrors),\n/* harmony export */   formatBindArgsValidationErrors: () => (/* binding */ formatBindArgsValidationErrors),\n/* harmony export */   formatValidationErrors: () => (/* binding */ formatValidationErrors),\n/* harmony export */   returnValidationErrors: () => (/* binding */ returnValidationErrors)\n/* harmony export */ });\n/* harmony import */ var next_dist_client_components_not_found_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/client/components/not-found.js */ \"(action-browser)/./node_modules/next/dist/client/components/not-found.js\");\n/* harmony import */ var next_dist_client_components_redirect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/client/components/redirect.js */ \"(action-browser)/./node_modules/next/dist/client/components/redirect.js\");\n// src/action-builder.ts\n\n\n\n// src/utils.ts\nvar DEFAULT_SERVER_ERROR_MESSAGE = \"Something went wrong while executing the operation.\";\nvar isError = (error) => error instanceof Error;\nasync function zodValidate(s, data) {\n\tconst result = await s.safeParseAsync(data);\n\tif (result.success) {\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata: result.data,\n\t\t};\n\t}\n\treturn {\n\t\tsuccess: false,\n\t\tissues: result.error.issues.map(({ message, path }) => ({ message, path })),\n\t};\n}\nvar ActionMetadataError = class extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"ActionMetadataError\";\n\t}\n};\n\n// src/validation-errors.ts\nvar buildValidationErrors = (issues) => {\n\tconst ve = {};\n\tfor (const issue of issues) {\n\t\tconst { path, message } = issue;\n\t\tif (!path || path.length === 0) {\n\t\t\tve._errors = ve._errors ? [...ve._errors, message] : [message];\n\t\t\tcontinue;\n\t\t}\n\t\tlet ref = ve;\n\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\tconst k = path[i];\n\t\t\tif (!ref[k]) {\n\t\t\t\tref[k] = {};\n\t\t\t}\n\t\t\tref = ref[k];\n\t\t}\n\t\tconst key = path[path.length - 1];\n\t\tref[key] = ref[key]?._errors\n\t\t\t? {\n\t\t\t\t\t...structuredClone(ref[key]),\n\t\t\t\t\t_errors: [...ref[key]._errors, message],\n\t\t\t\t}\n\t\t\t: { ...structuredClone(ref[key]), _errors: [message] };\n\t}\n\treturn ve;\n};\nvar ActionServerValidationError = class extends Error {\n\tkind;\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action server validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t\tthis.kind = \"__actionServerValidationError\";\n\t}\n};\nvar ActionValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nfunction returnValidationErrors(schema, validationErrors) {\n\tthrow new ActionServerValidationError(validationErrors);\n}\nfunction formatValidationErrors(validationErrors) {\n\treturn validationErrors;\n}\nfunction formatBindArgsValidationErrors(bindArgsValidationErrors) {\n\treturn bindArgsValidationErrors;\n}\nfunction flattenValidationErrors(validationErrors) {\n\tconst flattened = {\n\t\tformErrors: [],\n\t\tfieldErrors: {},\n\t};\n\tfor (const [key, value] of Object.entries(validationErrors ?? {})) {\n\t\tif (key === \"_errors\" && Array.isArray(value)) {\n\t\t\tflattened.formErrors = [...value];\n\t\t} else {\n\t\t\tif (\"_errors\" in value) {\n\t\t\t\tflattened.fieldErrors[key] = [...value._errors];\n\t\t\t}\n\t\t}\n\t}\n\treturn flattened;\n}\nfunction flattenBindArgsValidationErrors(bindArgsValidationErrors) {\n\treturn bindArgsValidationErrors.map((ve) => flattenValidationErrors(ve));\n}\n\n// src/action-builder.ts\nfunction actionBuilder(args) {\n\tconst bindArgsSchemas = args.bindArgsSchemas ?? [];\n\tfunction buildAction({ withState }) {\n\t\treturn {\n\t\t\taction: (serverCodeFn, cb) => {\n\t\t\t\treturn async (...clientInputs) => {\n\t\t\t\t\tlet prevCtx = void 0;\n\t\t\t\t\tconst middlewareResult = { success: false };\n\t\t\t\t\tlet prevResult = void 0;\n\t\t\t\t\tconst parsedInputDatas = [];\n\t\t\t\t\tlet frameworkError = null;\n\t\t\t\t\tif (withState) {\n\t\t\t\t\t\tprevResult = clientInputs.splice(bindArgsSchemas.length, 1)[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (bindArgsSchemas.length + 1 > clientInputs.length) {\n\t\t\t\t\t\tclientInputs.push(void 0);\n\t\t\t\t\t}\n\t\t\t\t\tconst executeMiddlewareStack = async (idx = 0) => {\n\t\t\t\t\t\tif (frameworkError) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst middlewareFn = args.middlewareFns[idx];\n\t\t\t\t\t\tmiddlewareResult.ctx = prevCtx;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (idx === 0) {\n\t\t\t\t\t\t\t\tif (args.metadataSchema) {\n\t\t\t\t\t\t\t\t\tif (!(await zodValidate(args.metadataSchema, args.metadata)).success) {\n\t\t\t\t\t\t\t\t\t\tthrow new ActionMetadataError(\n\t\t\t\t\t\t\t\t\t\t\t\"Invalid metadata input. Please be sure to pass metadata via `metadata` method before defining the action.\"\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (middlewareFn) {\n\t\t\t\t\t\t\t\tawait middlewareFn({\n\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\tnext: async ({ ctx }) => {\n\t\t\t\t\t\t\t\t\t\tprevCtx = ctx;\n\t\t\t\t\t\t\t\t\t\tawait executeMiddlewareStack(idx + 1);\n\t\t\t\t\t\t\t\t\t\treturn middlewareResult;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst parsedInputs = await Promise.all(\n\t\t\t\t\t\t\t\t\tclientInputs.map(async (input, i) => {\n\t\t\t\t\t\t\t\t\t\tif (i === clientInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof args.schemaFn === \"undefined\") {\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: void 0,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn zodValidate(await args.schemaFn(), input);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn zodValidate(bindArgsSchemas[i], input);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tlet hasBindValidationErrors = false;\n\t\t\t\t\t\t\t\tconst bindArgsValidationErrors = Array(parsedInputs.length - 1).fill({});\n\t\t\t\t\t\t\t\tfor (let i = 0; i < parsedInputs.length; i++) {\n\t\t\t\t\t\t\t\t\tconst parsedInput = parsedInputs[i];\n\t\t\t\t\t\t\t\t\tif (parsedInput.success) {\n\t\t\t\t\t\t\t\t\t\tparsedInputDatas.push(parsedInput.data);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (i < parsedInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tbindArgsValidationErrors[i] = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\thasBindValidationErrors = true;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst validationErrors = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\t\t\t\targs.handleValidationErrorsShape(validationErrors)\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (hasBindValidationErrors) {\n\t\t\t\t\t\t\t\t\tmiddlewareResult.bindArgsValidationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\t\targs.handleBindArgsValidationErrorsShape(bindArgsValidationErrors)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (middlewareResult.validationErrors || middlewareResult.bindArgsValidationErrors) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst scfArgs = [];\n\t\t\t\t\t\t\t\tscfArgs[0] = {\n\t\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (withState) {\n\t\t\t\t\t\t\t\t\tscfArgs[1] = { prevResult: structuredClone(prevResult) };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst data = await serverCodeFn(...scfArgs);\n\t\t\t\t\t\t\t\tmiddlewareResult.success = true;\n\t\t\t\t\t\t\t\tmiddlewareResult.data = data;\n\t\t\t\t\t\t\t\tmiddlewareResult.parsedInput = parsedInputDatas.at(-1);\n\t\t\t\t\t\t\t\tmiddlewareResult.bindArgsParsedInputs = parsedInputDatas.slice(0, -1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif ((0,next_dist_client_components_redirect_js__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(e) || (0,next_dist_client_components_not_found_js__WEBPACK_IMPORTED_MODULE_0__.isNotFoundError)(e)) {\n\t\t\t\t\t\t\t\tmiddlewareResult.success = true;\n\t\t\t\t\t\t\t\tframeworkError = e;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\te instanceof Error &&\n\t\t\t\t\t\t\t\t\"kind\" in e &&\n\t\t\t\t\t\t\t\t\"validationErrors\" in e &&\n\t\t\t\t\t\t\t\ttypeof e.kind === \"string\" &&\n\t\t\t\t\t\t\t\te.kind === \"__actionServerValidationError\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst ve = e.validationErrors;\n\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(args.handleValidationErrorsShape(ve));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst error = isError(e) ? e : new Error(DEFAULT_SERVER_ERROR_MESSAGE);\n\t\t\t\t\t\t\t\tconst returnedError = await Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleReturnedServerError(error, {\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmiddlewareResult.serverError = returnedError;\n\t\t\t\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleServerErrorLog(error, {\n\t\t\t\t\t\t\t\t\t\treturnedError,\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tawait executeMiddlewareStack();\n\t\t\t\t\tif (frameworkError) {\n\t\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\t\tcb?.onSuccess?.({\n\t\t\t\t\t\t\t\tdata: void 0,\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\thasRedirected: (0,next_dist_client_components_redirect_js__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(frameworkError),\n\t\t\t\t\t\t\t\thasNotFound: (0,next_dist_client_components_not_found_js__WEBPACK_IMPORTED_MODULE_0__.isNotFoundError)(frameworkError),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\t\tcb?.onSettled?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tresult: {},\n\t\t\t\t\t\t\t\thasRedirected: (0,next_dist_client_components_redirect_js__WEBPACK_IMPORTED_MODULE_1__.isRedirectError)(frameworkError),\n\t\t\t\t\t\t\t\thasNotFound: (0,next_dist_client_components_not_found_js__WEBPACK_IMPORTED_MODULE_0__.isNotFoundError)(frameworkError),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthrow frameworkError;\n\t\t\t\t\t}\n\t\t\t\t\tconst actionResult = {};\n\t\t\t\t\tif (typeof middlewareResult.validationErrors !== \"undefined\") {\n\t\t\t\t\t\tif (args.throwValidationErrors) {\n\t\t\t\t\t\t\tthrow new ActionValidationError(middlewareResult.validationErrors);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tactionResult.validationErrors = middlewareResult.validationErrors;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof middlewareResult.bindArgsValidationErrors !== \"undefined\") {\n\t\t\t\t\t\tactionResult.bindArgsValidationErrors = middlewareResult.bindArgsValidationErrors;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof middlewareResult.serverError !== \"undefined\") {\n\t\t\t\t\t\tactionResult.serverError = middlewareResult.serverError;\n\t\t\t\t\t}\n\t\t\t\t\tif (middlewareResult.success) {\n\t\t\t\t\t\tif (typeof middlewareResult.data !== \"undefined\") {\n\t\t\t\t\t\t\tactionResult.data = middlewareResult.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\t\tcb?.onSuccess?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\tdata: actionResult.data,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\thasRedirected: false,\n\t\t\t\t\t\t\t\thasNotFound: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\t\tcb?.onError?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\terror: actionResult,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tawait Promise.resolve(\n\t\t\t\t\t\tcb?.onSettled?.({\n\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\tctx: prevCtx,\n\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\tresult: actionResult,\n\t\t\t\t\t\t\thasRedirected: false,\n\t\t\t\t\t\t\thasNotFound: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\treturn actionResult;\n\t\t\t\t};\n\t\t\t},\n\t\t};\n\t}\n\treturn {\n\t\t/**\n\t\t * Define the action.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\taction: buildAction({ withState: false }).action,\n\t\t/**\n\t\t * Define the stateful action. To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execution/hooks/usestateaction) hook.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\tstateAction: buildAction({ withState: true }).action,\n\t};\n}\n\n// src/safe-action-client.ts\nvar SafeActionClient = class _SafeActionClient {\n\t#handleServerErrorLog;\n\t#handleReturnedServerError;\n\t#middlewareFns;\n\t#ctxType = void 0;\n\t#metadataSchema;\n\t#metadata;\n\t#schemaFn;\n\t#bindArgsSchemas;\n\t#handleValidationErrorsShape;\n\t#handleBindArgsValidationErrorsShape;\n\t#defaultValidationErrorsShape;\n\t#throwValidationErrors;\n\tconstructor(opts) {\n\t\tthis.#middlewareFns = opts.middlewareFns;\n\t\tthis.#handleServerErrorLog = opts.handleServerErrorLog;\n\t\tthis.#handleReturnedServerError = opts.handleReturnedServerError;\n\t\tthis.#metadataSchema = opts.metadataSchema;\n\t\tthis.#metadata = opts.metadata;\n\t\tthis.#schemaFn = opts.schemaFn ?? void 0;\n\t\tthis.#bindArgsSchemas = opts.bindArgsSchemas ?? [];\n\t\tthis.#handleValidationErrorsShape = opts.handleValidationErrorsShape;\n\t\tthis.#handleBindArgsValidationErrorsShape = opts.handleBindArgsValidationErrorsShape;\n\t\tthis.#defaultValidationErrorsShape = opts.defaultValidationErrorsShape;\n\t\tthis.#throwValidationErrors = opts.throwValidationErrors;\n\t}\n\t/**\n\t * Use a middleware function.\n\t * @param middlewareFn Middleware function\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#use See docs for more information}\n\t */\n\tuse(middlewareFn) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: [...this.#middlewareFns, middlewareFn],\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tschemaFn: this.#schemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: void 0,\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define metadata for the action.\n\t * @param data Metadata with the same type as the return value of the [`defineMetadataSchema`](https://next-safe-action.dev/docs/safe-action-client/initialization-options#definemetadataschema) optional initialization function\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#metadata See docs for more information}\n\t */\n\tmetadata(data) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: data,\n\t\t\tschemaFn: this.#schemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: void 0,\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the input validation schema for the action.\n\t * @param schema Input validation schema\n\t * @param utils Optional utils object\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#schema See docs for more information}\n\t */\n\tschema(schema, utils) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\t// @ts-expect-error\n\t\t\tschemaFn:\n\t\t\t\tschema[Symbol.toStringTag] === \"AsyncFunction\"\n\t\t\t\t\t? async () => {\n\t\t\t\t\t\t\tconst prevSchema = await this.#schemaFn?.();\n\t\t\t\t\t\t\treturn schema(prevSchema);\n\t\t\t\t\t\t}\n\t\t\t\t\t: async () => schema,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\thandleValidationErrorsShape: utils?.handleValidationErrorsShape ?? this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: void 0,\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the bind args input validation schema for the action.\n\t * @param bindArgsSchemas Bind args input validation schemas\n\t * @param utils Optional utils object\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#schema See docs for more information}\n\t */\n\tbindArgsSchemas(bindArgsSchemas, utils) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tschemaFn: this.#schemaFn,\n\t\t\tbindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape:\n\t\t\t\tutils?.handleBindArgsValidationErrorsShape ?? this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: void 0,\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the action.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#action--stateaction See docs for more information}\n\t */\n\taction(serverCodeFn, cb) {\n\t\treturn actionBuilder({\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\tctxType: this.#ctxType,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tschemaFn: this.#schemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t}).action(serverCodeFn, cb);\n\t}\n\t/**\n\t * Define the stateful action (without input validation schema, bind arguments validation schemas or metadata).\n\t * To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execution/hooks/usestateaction) hook.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/safe-action-client/instance-methods#action--stateaction See docs for more information}\n\t */\n\tstateAction(serverCodeFn, cb) {\n\t\treturn actionBuilder({\n\t\t\thandleReturnedServerError: this.#handleReturnedServerError,\n\t\t\thandleServerErrorLog: this.#handleServerErrorLog,\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\tctxType: this.#ctxType,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tschemaFn: this.#schemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t}).stateAction(serverCodeFn, cb);\n\t}\n};\n\n// src/index.ts\nvar createSafeActionClient = (createOpts) => {\n\tconst handleServerErrorLog =\n\t\tcreateOpts?.handleServerErrorLog ||\n\t\t((originalError) => {\n\t\t\tconsole.error(\"Action error:\", originalError.message);\n\t\t});\n\tconst handleReturnedServerError = createOpts?.handleReturnedServerError || (() => DEFAULT_SERVER_ERROR_MESSAGE);\n\treturn new SafeActionClient({\n\t\tmiddlewareFns: [async ({ next }) => next({ ctx: void 0 })],\n\t\thandleServerErrorLog,\n\t\thandleReturnedServerError,\n\t\tschemaFn: void 0,\n\t\tbindArgsSchemas: [],\n\t\tctxType: void 0,\n\t\tmetadataSchema: createOpts?.defineMetadataSchema?.() ?? void 0,\n\t\tmetadata: void 0,\n\t\tdefaultValidationErrorsShape: createOpts?.defaultValidationErrorsShape ?? \"formatted\",\n\t\tthrowValidationErrors: Boolean(createOpts?.throwValidationErrors),\n\t\thandleValidationErrorsShape:\n\t\t\tcreateOpts?.defaultValidationErrorsShape === \"flattened\" ? flattenValidationErrors : formatValidationErrors,\n\t\thandleBindArgsValidationErrorsShape:\n\t\t\tcreateOpts?.defaultValidationErrorsShape === \"flattened\"\n\t\t\t\t? flattenBindArgsValidationErrors\n\t\t\t\t: formatBindArgsValidationErrors,\n\t});\n};\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0LXNhZmUtYWN0aW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDMkU7QUFDRDs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZUFBZSxRQUFRLGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsS0FBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsU0FBUztBQUNULFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLCtFQUErRTtBQUMvRSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixXQUFXLHdGQUFlLE9BQU8seUZBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0ZBQWU7QUFDdEMscUJBQXFCLHlGQUFlO0FBQ3BDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix1QkFBdUIsd0ZBQWU7QUFDdEMscUJBQXFCLHlGQUFlO0FBQ3BDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMkJBQTJCLE1BQU0sWUFBWSxhQUFhO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQVdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG91ZGluYXJ5LWFpLy4vbm9kZV9tb2R1bGVzL25leHQtc2FmZS1hY3Rpb24vZGlzdC9pbmRleC5tanM/NWQ3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYWN0aW9uLWJ1aWxkZXIudHNcbmltcG9ydCB7IGlzTm90Rm91bmRFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLmpzXCI7XG5pbXBvcnQgeyBpc1JlZGlyZWN0RXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlZGlyZWN0LmpzXCI7XG5cbi8vIHNyYy91dGlscy50c1xudmFyIERFRkFVTFRfU0VSVkVSX0VSUk9SX01FU1NBR0UgPSBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGV4ZWN1dGluZyB0aGUgb3BlcmF0aW9uLlwiO1xudmFyIGlzRXJyb3IgPSAoZXJyb3IpID0+IGVycm9yIGluc3RhbmNlb2YgRXJyb3I7XG5hc3luYyBmdW5jdGlvbiB6b2RWYWxpZGF0ZShzLCBkYXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHMuc2FmZVBhcnNlQXN5bmMoZGF0YSk7XG5cdGlmIChyZXN1bHQuc3VjY2Vzcykge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogcmVzdWx0LmRhdGEsXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdGlzc3VlczogcmVzdWx0LmVycm9yLmlzc3Vlcy5tYXAoKHsgbWVzc2FnZSwgcGF0aCB9KSA9PiAoeyBtZXNzYWdlLCBwYXRoIH0pKSxcblx0fTtcbn1cbnZhciBBY3Rpb25NZXRhZGF0YUVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLm5hbWUgPSBcIkFjdGlvbk1ldGFkYXRhRXJyb3JcIjtcblx0fVxufTtcblxuLy8gc3JjL3ZhbGlkYXRpb24tZXJyb3JzLnRzXG52YXIgYnVpbGRWYWxpZGF0aW9uRXJyb3JzID0gKGlzc3VlcykgPT4ge1xuXHRjb25zdCB2ZSA9IHt9O1xuXHRmb3IgKGNvbnN0IGlzc3VlIG9mIGlzc3Vlcykge1xuXHRcdGNvbnN0IHsgcGF0aCwgbWVzc2FnZSB9ID0gaXNzdWU7XG5cdFx0aWYgKCFwYXRoIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR2ZS5fZXJyb3JzID0gdmUuX2Vycm9ycyA/IFsuLi52ZS5fZXJyb3JzLCBtZXNzYWdlXSA6IFttZXNzYWdlXTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRsZXQgcmVmID0gdmU7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0Y29uc3QgayA9IHBhdGhbaV07XG5cdFx0XHRpZiAoIXJlZltrXSkge1xuXHRcdFx0XHRyZWZba10gPSB7fTtcblx0XHRcdH1cblx0XHRcdHJlZiA9IHJlZltrXTtcblx0XHR9XG5cdFx0Y29uc3Qga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuXHRcdHJlZltrZXldID0gcmVmW2tleV0/Ll9lcnJvcnNcblx0XHRcdD8ge1xuXHRcdFx0XHRcdC4uLnN0cnVjdHVyZWRDbG9uZShyZWZba2V5XSksXG5cdFx0XHRcdFx0X2Vycm9yczogWy4uLnJlZltrZXldLl9lcnJvcnMsIG1lc3NhZ2VdLFxuXHRcdFx0XHR9XG5cdFx0XHQ6IHsgLi4uc3RydWN0dXJlZENsb25lKHJlZltrZXldKSwgX2Vycm9yczogW21lc3NhZ2VdIH07XG5cdH1cblx0cmV0dXJuIHZlO1xufTtcbnZhciBBY3Rpb25TZXJ2ZXJWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0a2luZDtcblx0dmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3IodmFsaWRhdGlvbkVycm9ycykge1xuXHRcdHN1cGVyKFwiU2VydmVyIEFjdGlvbiBzZXJ2ZXIgdmFsaWRhdGlvbiBlcnJvcihzKSBvY2N1cnJlZFwiKTtcblx0XHR0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0aW9uRXJyb3JzO1xuXHRcdHRoaXMua2luZCA9IFwiX19hY3Rpb25TZXJ2ZXJWYWxpZGF0aW9uRXJyb3JcIjtcblx0fVxufTtcbnZhciBBY3Rpb25WYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0dmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3IodmFsaWRhdGlvbkVycm9ycykge1xuXHRcdHN1cGVyKFwiU2VydmVyIEFjdGlvbiB2YWxpZGF0aW9uIGVycm9yKHMpIG9jY3VycmVkXCIpO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG5mdW5jdGlvbiByZXR1cm5WYWxpZGF0aW9uRXJyb3JzKHNjaGVtYSwgdmFsaWRhdGlvbkVycm9ycykge1xuXHR0aHJvdyBuZXcgQWN0aW9uU2VydmVyVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb25FcnJvcnMpO1xufVxuZnVuY3Rpb24gZm9ybWF0VmFsaWRhdGlvbkVycm9ycyh2YWxpZGF0aW9uRXJyb3JzKSB7XG5cdHJldHVybiB2YWxpZGF0aW9uRXJyb3JzO1xufVxuZnVuY3Rpb24gZm9ybWF0QmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzKGJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycykge1xuXHRyZXR1cm4gYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzO1xufVxuZnVuY3Rpb24gZmxhdHRlblZhbGlkYXRpb25FcnJvcnModmFsaWRhdGlvbkVycm9ycykge1xuXHRjb25zdCBmbGF0dGVuZWQgPSB7XG5cdFx0Zm9ybUVycm9yczogW10sXG5cdFx0ZmllbGRFcnJvcnM6IHt9LFxuXHR9O1xuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWxpZGF0aW9uRXJyb3JzID8/IHt9KSkge1xuXHRcdGlmIChrZXkgPT09IFwiX2Vycm9yc1wiICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmbGF0dGVuZWQuZm9ybUVycm9ycyA9IFsuLi52YWx1ZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChcIl9lcnJvcnNcIiBpbiB2YWx1ZSkge1xuXHRcdFx0XHRmbGF0dGVuZWQuZmllbGRFcnJvcnNba2V5XSA9IFsuLi52YWx1ZS5fZXJyb3JzXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGZsYXR0ZW5lZDtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5CaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMoYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzKSB7XG5cdHJldHVybiBiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMubWFwKCh2ZSkgPT4gZmxhdHRlblZhbGlkYXRpb25FcnJvcnModmUpKTtcbn1cblxuLy8gc3JjL2FjdGlvbi1idWlsZGVyLnRzXG5mdW5jdGlvbiBhY3Rpb25CdWlsZGVyKGFyZ3MpIHtcblx0Y29uc3QgYmluZEFyZ3NTY2hlbWFzID0gYXJncy5iaW5kQXJnc1NjaGVtYXMgPz8gW107XG5cdGZ1bmN0aW9uIGJ1aWxkQWN0aW9uKHsgd2l0aFN0YXRlIH0pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YWN0aW9uOiAoc2VydmVyQ29kZUZuLCBjYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYXN5bmMgKC4uLmNsaWVudElucHV0cykgPT4ge1xuXHRcdFx0XHRcdGxldCBwcmV2Q3R4ID0gdm9pZCAwO1xuXHRcdFx0XHRcdGNvbnN0IG1pZGRsZXdhcmVSZXN1bHQgPSB7IHN1Y2Nlc3M6IGZhbHNlIH07XG5cdFx0XHRcdFx0bGV0IHByZXZSZXN1bHQgPSB2b2lkIDA7XG5cdFx0XHRcdFx0Y29uc3QgcGFyc2VkSW5wdXREYXRhcyA9IFtdO1xuXHRcdFx0XHRcdGxldCBmcmFtZXdvcmtFcnJvciA9IG51bGw7XG5cdFx0XHRcdFx0aWYgKHdpdGhTdGF0ZSkge1xuXHRcdFx0XHRcdFx0cHJldlJlc3VsdCA9IGNsaWVudElucHV0cy5zcGxpY2UoYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCwgMSlbMF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChiaW5kQXJnc1NjaGVtYXMubGVuZ3RoICsgMSA+IGNsaWVudElucHV0cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNsaWVudElucHV0cy5wdXNoKHZvaWQgMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGV4ZWN1dGVNaWRkbGV3YXJlU3RhY2sgPSBhc3luYyAoaWR4ID0gMCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGZyYW1ld29ya0Vycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnN0IG1pZGRsZXdhcmVGbiA9IGFyZ3MubWlkZGxld2FyZUZuc1tpZHhdO1xuXHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5jdHggPSBwcmV2Q3R4O1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0aWYgKGlkeCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChhcmdzLm1ldGFkYXRhU2NoZW1hKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShhd2FpdCB6b2RWYWxpZGF0ZShhcmdzLm1ldGFkYXRhU2NoZW1hLCBhcmdzLm1ldGFkYXRhKSkuc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgQWN0aW9uTWV0YWRhdGFFcnJvcihcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIkludmFsaWQgbWV0YWRhdGEgaW5wdXQuIFBsZWFzZSBiZSBzdXJlIHRvIHBhc3MgbWV0YWRhdGEgdmlhIGBtZXRhZGF0YWAgbWV0aG9kIGJlZm9yZSBkZWZpbmluZyB0aGUgYWN0aW9uLlwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChtaWRkbGV3YXJlRm4pIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBtaWRkbGV3YXJlRm4oe1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBwYXNzIHJhdyBjbGllbnQgaW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXh0OiBhc3luYyAoeyBjdHggfSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwcmV2Q3R4ID0gY3R4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCBleGVjdXRlTWlkZGxld2FyZVN0YWNrKGlkeCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gbWlkZGxld2FyZVJlc3VsdDtcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkSW5wdXRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dHMubWFwKGFzeW5jIChpbnB1dCwgaSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaSA9PT0gY2xpZW50SW5wdXRzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGFyZ3Muc2NoZW1hRm4gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHZvaWQgMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB6b2RWYWxpZGF0ZShhd2FpdCBhcmdzLnNjaGVtYUZuKCksIGlucHV0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gem9kVmFsaWRhdGUoYmluZEFyZ3NTY2hlbWFzW2ldLCBpbnB1dCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IGhhc0JpbmRWYWxpZGF0aW9uRXJyb3JzID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzID0gQXJyYXkocGFyc2VkSW5wdXRzLmxlbmd0aCAtIDEpLmZpbGwoe30pO1xuXHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXJzZWRJbnB1dCA9IHBhcnNlZElucHV0c1tpXTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChwYXJzZWRJbnB1dC5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlZElucHV0RGF0YXMucHVzaChwYXJzZWRJbnB1dC5kYXRhKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpIDwgcGFyc2VkSW5wdXRzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNbaV0gPSBidWlsZFZhbGlkYXRpb25FcnJvcnMocGFyc2VkSW5wdXQuaXNzdWVzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRoYXNCaW5kVmFsaWRhdGlvbkVycm9ycyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IGJ1aWxkVmFsaWRhdGlvbkVycm9ycyhwYXJzZWRJbnB1dC5pc3N1ZXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQudmFsaWRhdGlvbkVycm9ycyA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MuaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlKHZhbGlkYXRpb25FcnJvcnMpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzQmluZFZhbGlkYXRpb25FcnJvcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzLmhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlKGJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycylcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmIChtaWRkbGV3YXJlUmVzdWx0LnZhbGlkYXRpb25FcnJvcnMgfHwgbWlkZGxld2FyZVJlc3VsdC5iaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2NmQXJncyA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdHNjZkFyZ3NbMF0gPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJzZWRJbnB1dDogcGFyc2VkSW5wdXREYXRhcy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1BhcnNlZElucHV0czogcGFyc2VkSW5wdXREYXRhcy5zbGljZSgwLCAtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRjdHg6IHByZXZDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdGlmICh3aXRoU3RhdGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNjZkFyZ3NbMV0gPSB7IHByZXZSZXN1bHQ6IHN0cnVjdHVyZWRDbG9uZShwcmV2UmVzdWx0KSB9O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgc2VydmVyQ29kZUZuKC4uLnNjZkFyZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5kYXRhID0gZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnBhcnNlZElucHV0ID0gcGFyc2VkSW5wdXREYXRhcy5hdCgtMSk7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5iaW5kQXJnc1BhcnNlZElucHV0cyA9IHBhcnNlZElucHV0RGF0YXMuc2xpY2UoMCwgLTEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChpc1JlZGlyZWN0RXJyb3IoZSkgfHwgaXNOb3RGb3VuZEVycm9yKGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5zdWNjZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRmcmFtZXdvcmtFcnJvciA9IGU7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRlIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdFx0XHRcdFx0XHRcImtpbmRcIiBpbiBlICYmXG5cdFx0XHRcdFx0XHRcdFx0XCJ2YWxpZGF0aW9uRXJyb3JzXCIgaW4gZSAmJlxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlLmtpbmQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0XHRcdFx0XHRlLmtpbmQgPT09IFwiX19hY3Rpb25TZXJ2ZXJWYWxpZGF0aW9uRXJyb3JcIlxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCB2ZSA9IGUudmFsaWRhdGlvbkVycm9ycztcblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnZhbGlkYXRpb25FcnJvcnMgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoYXJncy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUodmUpKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBlcnJvciA9IGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKERFRkFVTFRfU0VSVkVSX0VSUk9SX01FU1NBR0UpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHJldHVybmVkRXJyb3IgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzLmhhbmRsZVJldHVybmVkU2VydmVyRXJyb3IoZXJyb3IsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHBhc3MgcmF3IGNsaWVudCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnNlcnZlckVycm9yID0gcmV0dXJuZWRFcnJvcjtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzLmhhbmRsZVNlcnZlckVycm9yTG9nKGVycm9yLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkRXJyb3IsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBwYXNzIHJhdyBjbGllbnQgaW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGN0eDogcHJldkN0eCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGF3YWl0IGV4ZWN1dGVNaWRkbGV3YXJlU3RhY2soKTtcblx0XHRcdFx0XHRpZiAoZnJhbWV3b3JrRXJyb3IpIHtcblx0XHRcdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0Y2I/Lm9uU3VjY2Vzcz8uKHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlZElucHV0OiBwYXJzZWRJbnB1dERhdGFzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1BhcnNlZElucHV0czogcGFyc2VkSW5wdXREYXRhcy5zbGljZSgwLCAtMSksXG5cdFx0XHRcdFx0XHRcdFx0aGFzUmVkaXJlY3RlZDogaXNSZWRpcmVjdEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNOb3RGb3VuZDogaXNOb3RGb3VuZEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdGNiPy5vblNldHRsZWQ/Lih7XG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdDoge30sXG5cdFx0XHRcdFx0XHRcdFx0aGFzUmVkaXJlY3RlZDogaXNSZWRpcmVjdEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNOb3RGb3VuZDogaXNOb3RGb3VuZEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR0aHJvdyBmcmFtZXdvcmtFcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3QgYWN0aW9uUmVzdWx0ID0ge307XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBtaWRkbGV3YXJlUmVzdWx0LnZhbGlkYXRpb25FcnJvcnMgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRcdGlmIChhcmdzLnRocm93VmFsaWRhdGlvbkVycm9ycykge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgQWN0aW9uVmFsaWRhdGlvbkVycm9yKG1pZGRsZXdhcmVSZXN1bHQudmFsaWRhdGlvbkVycm9ycyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQudmFsaWRhdGlvbkVycm9ycyA9IG1pZGRsZXdhcmVSZXN1bHQudmFsaWRhdGlvbkVycm9ycztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBtaWRkbGV3YXJlUmVzdWx0LmJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0YWN0aW9uUmVzdWx0LmJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyA9IG1pZGRsZXdhcmVSZXN1bHQuYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodHlwZW9mIG1pZGRsZXdhcmVSZXN1bHQuc2VydmVyRXJyb3IgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRcdGFjdGlvblJlc3VsdC5zZXJ2ZXJFcnJvciA9IG1pZGRsZXdhcmVSZXN1bHQuc2VydmVyRXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChtaWRkbGV3YXJlUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbWlkZGxld2FyZVJlc3VsdC5kYXRhICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFjdGlvblJlc3VsdC5kYXRhID0gbWlkZGxld2FyZVJlc3VsdC5kYXRhO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRjYj8ub25TdWNjZXNzPy4oe1xuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdGN0eDogcHJldkN0eCxcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiBhY3Rpb25SZXN1bHQuZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRwYXJzZWRJbnB1dDogcGFyc2VkSW5wdXREYXRhcy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NQYXJzZWRJbnB1dHM6IHBhcnNlZElucHV0RGF0YXMuc2xpY2UoMCwgLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGhhc1JlZGlyZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdGhhc05vdEZvdW5kOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0Y2I/Lm9uRXJyb3I/Lih7XG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBhY3Rpb25SZXN1bHQsXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoXG5cdFx0XHRcdFx0XHRjYj8ub25TZXR0bGVkPy4oe1xuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0Y3R4OiBwcmV2Q3R4LFxuXHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdHJlc3VsdDogYWN0aW9uUmVzdWx0LFxuXHRcdFx0XHRcdFx0XHRoYXNSZWRpcmVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0aGFzTm90Rm91bmQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiBhY3Rpb25SZXN1bHQ7XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBEZWZpbmUgdGhlIGFjdGlvbi5cblx0XHQgKiBAcGFyYW0gc2VydmVyQ29kZUZuIENvZGUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSAqKnNlcnZlciBzaWRlKipcblx0XHQgKlxuXHRcdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3Mvc2FmZS1hY3Rpb24tY2xpZW50L2luc3RhbmNlLW1ldGhvZHMjYWN0aW9uLS1zdGF0ZWFjdGlvbiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0XHQgKi9cblx0XHRhY3Rpb246IGJ1aWxkQWN0aW9uKHsgd2l0aFN0YXRlOiBmYWxzZSB9KS5hY3Rpb24sXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lIHRoZSBzdGF0ZWZ1bCBhY3Rpb24uIFRvIGJlIHVzZWQgd2l0aCB0aGUgW2B1c2VTdGF0ZUFjdGlvbmBdKGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9leGVjdXRpb24vaG9va3MvdXNlc3RhdGVhY3Rpb24pIGhvb2suXG5cdFx0ICogQHBhcmFtIHNlcnZlckNvZGVGbiBDb2RlIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgKipzZXJ2ZXIgc2lkZSoqXG5cdFx0ICpcblx0XHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL3NhZmUtYWN0aW9uLWNsaWVudC9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdFx0ICovXG5cdFx0c3RhdGVBY3Rpb246IGJ1aWxkQWN0aW9uKHsgd2l0aFN0YXRlOiB0cnVlIH0pLmFjdGlvbixcblx0fTtcbn1cblxuLy8gc3JjL3NhZmUtYWN0aW9uLWNsaWVudC50c1xudmFyIFNhZmVBY3Rpb25DbGllbnQgPSBjbGFzcyBfU2FmZUFjdGlvbkNsaWVudCB7XG5cdCNoYW5kbGVTZXJ2ZXJFcnJvckxvZztcblx0I2hhbmRsZVJldHVybmVkU2VydmVyRXJyb3I7XG5cdCNtaWRkbGV3YXJlRm5zO1xuXHQjY3R4VHlwZSA9IHZvaWQgMDtcblx0I21ldGFkYXRhU2NoZW1hO1xuXHQjbWV0YWRhdGE7XG5cdCNzY2hlbWFGbjtcblx0I2JpbmRBcmdzU2NoZW1hcztcblx0I2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTtcblx0I2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlO1xuXHQjZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTtcblx0I3Rocm93VmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3Iob3B0cykge1xuXHRcdHRoaXMuI21pZGRsZXdhcmVGbnMgPSBvcHRzLm1pZGRsZXdhcmVGbnM7XG5cdFx0dGhpcy4jaGFuZGxlU2VydmVyRXJyb3JMb2cgPSBvcHRzLmhhbmRsZVNlcnZlckVycm9yTG9nO1xuXHRcdHRoaXMuI2hhbmRsZVJldHVybmVkU2VydmVyRXJyb3IgPSBvcHRzLmhhbmRsZVJldHVybmVkU2VydmVyRXJyb3I7XG5cdFx0dGhpcy4jbWV0YWRhdGFTY2hlbWEgPSBvcHRzLm1ldGFkYXRhU2NoZW1hO1xuXHRcdHRoaXMuI21ldGFkYXRhID0gb3B0cy5tZXRhZGF0YTtcblx0XHR0aGlzLiNzY2hlbWFGbiA9IG9wdHMuc2NoZW1hRm4gPz8gdm9pZCAwO1xuXHRcdHRoaXMuI2JpbmRBcmdzU2NoZW1hcyA9IG9wdHMuYmluZEFyZ3NTY2hlbWFzID8/IFtdO1xuXHRcdHRoaXMuI2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSA9IG9wdHMuaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlO1xuXHRcdHRoaXMuI2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlID0gb3B0cy5oYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTtcblx0XHR0aGlzLiNkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlID0gb3B0cy5kZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlO1xuXHRcdHRoaXMuI3Rocm93VmFsaWRhdGlvbkVycm9ycyA9IG9wdHMudGhyb3dWYWxpZGF0aW9uRXJyb3JzO1xuXHR9XG5cdC8qKlxuXHQgKiBVc2UgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0gbWlkZGxld2FyZUZuIE1pZGRsZXdhcmUgZnVuY3Rpb25cblx0ICpcblx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9zYWZlLWFjdGlvbi1jbGllbnQvaW5zdGFuY2UtbWV0aG9kcyN1c2UgU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHR1c2UobWlkZGxld2FyZUZuKSB7XG5cdFx0cmV0dXJuIG5ldyBfU2FmZUFjdGlvbkNsaWVudCh7XG5cdFx0XHRtaWRkbGV3YXJlRm5zOiBbLi4udGhpcy4jbWlkZGxld2FyZUZucywgbWlkZGxld2FyZUZuXSxcblx0XHRcdGhhbmRsZVJldHVybmVkU2VydmVyRXJyb3I6IHRoaXMuI2hhbmRsZVJldHVybmVkU2VydmVyRXJyb3IsXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvckxvZzogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3JMb2csXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogdGhpcy4jbWV0YWRhdGEsXG5cdFx0XHRzY2hlbWFGbjogdGhpcy4jc2NoZW1hRm4sXG5cdFx0XHRiaW5kQXJnc1NjaGVtYXM6IHRoaXMuI2JpbmRBcmdzU2NoZW1hcyxcblx0XHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0aGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0Y3R4VHlwZTogdm9pZCAwLFxuXHRcdFx0ZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmUgbWV0YWRhdGEgZm9yIHRoZSBhY3Rpb24uXG5cdCAqIEBwYXJhbSBkYXRhIE1ldGFkYXRhIHdpdGggdGhlIHNhbWUgdHlwZSBhcyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBbYGRlZmluZU1ldGFkYXRhU2NoZW1hYF0oaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL3NhZmUtYWN0aW9uLWNsaWVudC9pbml0aWFsaXphdGlvbi1vcHRpb25zI2RlZmluZW1ldGFkYXRhc2NoZW1hKSBvcHRpb25hbCBpbml0aWFsaXphdGlvbiBmdW5jdGlvblxuXHQgKlxuXHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL3NhZmUtYWN0aW9uLWNsaWVudC9pbnN0YW5jZS1tZXRob2RzI21ldGFkYXRhIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0bWV0YWRhdGEoZGF0YSkge1xuXHRcdHJldHVybiBuZXcgX1NhZmVBY3Rpb25DbGllbnQoe1xuXHRcdFx0bWlkZGxld2FyZUZuczogdGhpcy4jbWlkZGxld2FyZUZucyxcblx0XHRcdGhhbmRsZVJldHVybmVkU2VydmVyRXJyb3I6IHRoaXMuI2hhbmRsZVJldHVybmVkU2VydmVyRXJyb3IsXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvckxvZzogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3JMb2csXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogZGF0YSxcblx0XHRcdHNjaGVtYUZuOiB0aGlzLiNzY2hlbWFGbixcblx0XHRcdGJpbmRBcmdzU2NoZW1hczogdGhpcy4jYmluZEFyZ3NTY2hlbWFzLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRjdHhUeXBlOiB2b2lkIDAsXG5cdFx0XHRkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0dGhyb3dWYWxpZGF0aW9uRXJyb3JzOiB0aGlzLiN0aHJvd1ZhbGlkYXRpb25FcnJvcnMsXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSB0aGUgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWEgZm9yIHRoZSBhY3Rpb24uXG5cdCAqIEBwYXJhbSBzY2hlbWEgSW5wdXQgdmFsaWRhdGlvbiBzY2hlbWFcblx0ICogQHBhcmFtIHV0aWxzIE9wdGlvbmFsIHV0aWxzIG9iamVjdFxuXHQgKlxuXHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL3NhZmUtYWN0aW9uLWNsaWVudC9pbnN0YW5jZS1tZXRob2RzI3NjaGVtYSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdHNjaGVtYShzY2hlbWEsIHV0aWxzKSB7XG5cdFx0cmV0dXJuIG5ldyBfU2FmZUFjdGlvbkNsaWVudCh7XG5cdFx0XHRtaWRkbGV3YXJlRm5zOiB0aGlzLiNtaWRkbGV3YXJlRm5zLFxuXHRcdFx0aGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcixcblx0XHRcdGhhbmRsZVNlcnZlckVycm9yTG9nOiB0aGlzLiNoYW5kbGVTZXJ2ZXJFcnJvckxvZyxcblx0XHRcdG1ldGFkYXRhU2NoZW1hOiB0aGlzLiNtZXRhZGF0YVNjaGVtYSxcblx0XHRcdG1ldGFkYXRhOiB0aGlzLiNtZXRhZGF0YSxcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdHNjaGVtYUZuOlxuXHRcdFx0XHRzY2hlbWFbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJBc3luY0Z1bmN0aW9uXCJcblx0XHRcdFx0XHQ/IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJldlNjaGVtYSA9IGF3YWl0IHRoaXMuI3NjaGVtYUZuPy4oKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjaGVtYShwcmV2U2NoZW1hKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ6IGFzeW5jICgpID0+IHNjaGVtYSxcblx0XHRcdGJpbmRBcmdzU2NoZW1hczogdGhpcy4jYmluZEFyZ3NTY2hlbWFzLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB1dGlscz8uaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlID8/IHRoaXMuI2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGN0eFR5cGU6IHZvaWQgMCxcblx0XHRcdGRlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2RlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHR0aHJvd1ZhbGlkYXRpb25FcnJvcnM6IHRoaXMuI3Rocm93VmFsaWRhdGlvbkVycm9ycyxcblx0XHR9KTtcblx0fVxuXHQvKipcblx0ICogRGVmaW5lIHRoZSBiaW5kIGFyZ3MgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWEgZm9yIHRoZSBhY3Rpb24uXG5cdCAqIEBwYXJhbSBiaW5kQXJnc1NjaGVtYXMgQmluZCBhcmdzIGlucHV0IHZhbGlkYXRpb24gc2NoZW1hc1xuXHQgKiBAcGFyYW0gdXRpbHMgT3B0aW9uYWwgdXRpbHMgb2JqZWN0XG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3Mvc2FmZS1hY3Rpb24tY2xpZW50L2luc3RhbmNlLW1ldGhvZHMjc2NoZW1hIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0YmluZEFyZ3NTY2hlbWFzKGJpbmRBcmdzU2NoZW1hcywgdXRpbHMpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRoYW5kbGVSZXR1cm5lZFNlcnZlckVycm9yOiB0aGlzLiNoYW5kbGVSZXR1cm5lZFNlcnZlckVycm9yLFxuXHRcdFx0aGFuZGxlU2VydmVyRXJyb3JMb2c6IHRoaXMuI2hhbmRsZVNlcnZlckVycm9yTG9nLFxuXHRcdFx0bWV0YWRhdGFTY2hlbWE6IHRoaXMuI21ldGFkYXRhU2NoZW1hLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMuI21ldGFkYXRhLFxuXHRcdFx0c2NoZW1hRm46IHRoaXMuI3NjaGVtYUZuLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTpcblx0XHRcdFx0dXRpbHM/LmhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlID8/IHRoaXMuI2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0Y3R4VHlwZTogdm9pZCAwLFxuXHRcdFx0ZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmUgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIHNlcnZlckNvZGVGbiBDb2RlIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgKipzZXJ2ZXIgc2lkZSoqXG5cdCAqIEBwYXJhbSBbY2JdIE9wdGlvbmFsIGNhbGxiYWNrcyB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGFjdGlvbiBleGVjdXRpb24sIG9uIHRoZSBzZXJ2ZXIuXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3Mvc2FmZS1hY3Rpb24tY2xpZW50L2luc3RhbmNlLW1ldGhvZHMjYWN0aW9uLS1zdGF0ZWFjdGlvbiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdGFjdGlvbihzZXJ2ZXJDb2RlRm4sIGNiKSB7XG5cdFx0cmV0dXJuIGFjdGlvbkJ1aWxkZXIoe1xuXHRcdFx0aGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcixcblx0XHRcdGhhbmRsZVNlcnZlckVycm9yTG9nOiB0aGlzLiNoYW5kbGVTZXJ2ZXJFcnJvckxvZyxcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRjdHhUeXBlOiB0aGlzLiNjdHhUeXBlLFxuXHRcdFx0bWV0YWRhdGFTY2hlbWE6IHRoaXMuI21ldGFkYXRhU2NoZW1hLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMuI21ldGFkYXRhLFxuXHRcdFx0c2NoZW1hRm46IHRoaXMuI3NjaGVtYUZuLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzOiB0aGlzLiNiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pLmFjdGlvbihzZXJ2ZXJDb2RlRm4sIGNiKTtcblx0fVxuXHQvKipcblx0ICogRGVmaW5lIHRoZSBzdGF0ZWZ1bCBhY3Rpb24gKHdpdGhvdXQgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWEsIGJpbmQgYXJndW1lbnRzIHZhbGlkYXRpb24gc2NoZW1hcyBvciBtZXRhZGF0YSkuXG5cdCAqIFRvIGJlIHVzZWQgd2l0aCB0aGUgW2B1c2VTdGF0ZUFjdGlvbmBdKGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9leGVjdXRpb24vaG9va3MvdXNlc3RhdGVhY3Rpb24pIGhvb2suXG5cdCAqIEBwYXJhbSBzZXJ2ZXJDb2RlRm4gQ29kZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlICoqc2VydmVyIHNpZGUqKlxuXHQgKiBAcGFyYW0gW2NiXSBPcHRpb25hbCBjYWxsYmFja3MgdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciBhY3Rpb24gZXhlY3V0aW9uLCBvbiB0aGUgc2VydmVyLlxuXHQgKlxuXHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL3NhZmUtYWN0aW9uLWNsaWVudC9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRzdGF0ZUFjdGlvbihzZXJ2ZXJDb2RlRm4sIGNiKSB7XG5cdFx0cmV0dXJuIGFjdGlvbkJ1aWxkZXIoe1xuXHRcdFx0aGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvcixcblx0XHRcdGhhbmRsZVNlcnZlckVycm9yTG9nOiB0aGlzLiNoYW5kbGVTZXJ2ZXJFcnJvckxvZyxcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRjdHhUeXBlOiB0aGlzLiNjdHhUeXBlLFxuXHRcdFx0bWV0YWRhdGFTY2hlbWE6IHRoaXMuI21ldGFkYXRhU2NoZW1hLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMuI21ldGFkYXRhLFxuXHRcdFx0c2NoZW1hRm46IHRoaXMuI3NjaGVtYUZuLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzOiB0aGlzLiNiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pLnN0YXRlQWN0aW9uKHNlcnZlckNvZGVGbiwgY2IpO1xuXHR9XG59O1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBjcmVhdGVTYWZlQWN0aW9uQ2xpZW50ID0gKGNyZWF0ZU9wdHMpID0+IHtcblx0Y29uc3QgaGFuZGxlU2VydmVyRXJyb3JMb2cgPVxuXHRcdGNyZWF0ZU9wdHM/LmhhbmRsZVNlcnZlckVycm9yTG9nIHx8XG5cdFx0KChvcmlnaW5hbEVycm9yKSA9PiB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiQWN0aW9uIGVycm9yOlwiLCBvcmlnaW5hbEVycm9yLm1lc3NhZ2UpO1xuXHRcdH0pO1xuXHRjb25zdCBoYW5kbGVSZXR1cm5lZFNlcnZlckVycm9yID0gY3JlYXRlT3B0cz8uaGFuZGxlUmV0dXJuZWRTZXJ2ZXJFcnJvciB8fCAoKCkgPT4gREVGQVVMVF9TRVJWRVJfRVJST1JfTUVTU0FHRSk7XG5cdHJldHVybiBuZXcgU2FmZUFjdGlvbkNsaWVudCh7XG5cdFx0bWlkZGxld2FyZUZuczogW2FzeW5jICh7IG5leHQgfSkgPT4gbmV4dCh7IGN0eDogdm9pZCAwIH0pXSxcblx0XHRoYW5kbGVTZXJ2ZXJFcnJvckxvZyxcblx0XHRoYW5kbGVSZXR1cm5lZFNlcnZlckVycm9yLFxuXHRcdHNjaGVtYUZuOiB2b2lkIDAsXG5cdFx0YmluZEFyZ3NTY2hlbWFzOiBbXSxcblx0XHRjdHhUeXBlOiB2b2lkIDAsXG5cdFx0bWV0YWRhdGFTY2hlbWE6IGNyZWF0ZU9wdHM/LmRlZmluZU1ldGFkYXRhU2NoZW1hPy4oKSA/PyB2b2lkIDAsXG5cdFx0bWV0YWRhdGE6IHZvaWQgMCxcblx0XHRkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlOiBjcmVhdGVPcHRzPy5kZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlID8/IFwiZm9ybWF0dGVkXCIsXG5cdFx0dGhyb3dWYWxpZGF0aW9uRXJyb3JzOiBCb29sZWFuKGNyZWF0ZU9wdHM/LnRocm93VmFsaWRhdGlvbkVycm9ycyksXG5cdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOlxuXHRcdFx0Y3JlYXRlT3B0cz8uZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSA9PT0gXCJmbGF0dGVuZWRcIiA/IGZsYXR0ZW5WYWxpZGF0aW9uRXJyb3JzIDogZm9ybWF0VmFsaWRhdGlvbkVycm9ycyxcblx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTpcblx0XHRcdGNyZWF0ZU9wdHM/LmRlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGUgPT09IFwiZmxhdHRlbmVkXCJcblx0XHRcdFx0PyBmbGF0dGVuQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzXG5cdFx0XHRcdDogZm9ybWF0QmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzLFxuXHR9KTtcbn07XG5leHBvcnQge1xuXHRBY3Rpb25NZXRhZGF0YUVycm9yLFxuXHRBY3Rpb25WYWxpZGF0aW9uRXJyb3IsXG5cdERFRkFVTFRfU0VSVkVSX0VSUk9SX01FU1NBR0UsXG5cdGNyZWF0ZVNhZmVBY3Rpb25DbGllbnQsXG5cdGZsYXR0ZW5CaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMsXG5cdGZsYXR0ZW5WYWxpZGF0aW9uRXJyb3JzLFxuXHRmb3JtYXRCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMsXG5cdGZvcm1hdFZhbGlkYXRpb25FcnJvcnMsXG5cdHJldHVyblZhbGlkYXRpb25FcnJvcnMsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/next-safe-action/dist/index.mjs\n");

/***/ })

};
;